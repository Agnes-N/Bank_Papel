"use strict";function cov_2kax4x7o7s(){var path="/home/agnes/Documents/Bank_Papel/server/middleware/loginValid.js";var hash="d8db49c2b2abf46ed396801793ac5ed1df163e55";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/agnes/Documents/Bank_Papel/server/middleware/loginValid.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:11},end:{line:8,column:49}},"3":{start:{line:10,column:39},end:{line:10,column:95}},"4":{start:{line:12,column:20},end:{line:40,column:1}},"5":{start:{line:13,column:15},end:{line:18,column:3}},"6":{start:{line:20,column:22},end:{line:20,column:64}},"7":{start:{line:21,column:14},end:{line:21,column:33}},"8":{start:{line:23,column:2},end:{line:37,column:3}},"9":{start:{line:24,column:4},end:{line:31,column:5}},"10":{start:{line:25,column:6},end:{line:30,column:9}},"11":{start:{line:33,column:4},end:{line:36,column:7}},"12":{start:{line:39,column:2},end:{line:39,column:9}},"13":{start:{line:42,column:15},end:{line:42,column:28}},"14":{start:{line:43,column:0},end:{line:43,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:97}},line:10},"1":{name:"validateLogin",decl:{start:{line:12,column:29},end:{line:12,column:42}},loc:{start:{line:12,column:59},end:{line:40,column:1}},line:12}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:94}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:94}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:23,column:2},end:{line:37,column:3}},type:"if",locations:[{start:{line:23,column:2},end:{line:37,column:3}},{start:{line:23,column:2},end:{line:37,column:3}}],line:23},"3":{loc:{start:{line:24,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:31,column:5}},{start:{line:24,column:4},end:{line:31,column:5}}],line:24}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},inputSourceMap:{version:3,sources:["loginValid.js"],names:["validateLogin","req","res","next","schema","email","Joi","string","minDomainSegments","required","password","regex","validate","body","error","details","message","replace","includes","status","json"],mappings:";;;;;;;AAAA;;;;AAEA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,MAAMC,MAAM,GAAG;AACbC,IAAAA,KAAK,EAAEC,gBAAIC,MAAJ,GAAaF,KAAb,CAAmB;AAAEG,MAAAA,iBAAiB,EAAE;AAArB,KAAnB,EAA6CC,QAA7C,EADM;AAEbC,IAAAA,QAAQ,EAAEJ,gBAAIC,MAAJ,GAAaI,KAAb,CAAmB,qBAAnB,EAA0CF,QAA1C;AAFG,GAAf;;AADwC,sBAKtBH,gBAAIM,QAAJ,CAAaX,GAAG,CAACY,IAAjB,EAAuBT,MAAvB,CALsB;AAAA,MAKhCU,KALgC,iBAKhCA,KALgC;;AAMxC,MAAIA,KAAJ,EAAW;AACT,QAAIA,KAAK,CAACC,OAAN,CAAc,CAAd,EAAiBC,OAAjB,CAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,EAA0CA,OAA1C,CAAkD,IAAlD,EAAwD,EAAxD,EAA4DC,QAA5D,CAAqE,OAArE,CAAJ,EAAmF;AACjF,aAAOhB,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,QAAAA,MAAM,EAAE,GADkB;AAE1BL,QAAAA,KAAK,EAAE;AACLA,UAAAA,KAAK,EAAE;AADF;AAFmB,OAArB,CAAP;AAMD;;AACD,WAAOZ,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,MAAAA,MAAM,EAAE,GADkB;AAE1BL,MAAAA,KAAK,EAAEA,KAAK,CAACC,OAAN,CAAc,CAAd,EAAiBC,OAAjB,CAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,EAA0CA,OAA1C,CAAkD,IAAlD,EAAwD,EAAxD;AAFmB,KAArB,CAAP;AAID;;AACDd,EAAAA,IAAI;AACL,CArBD;;eAsBeH,a",sourceRoot:"/home/agnes/Documents/Bank_Papel/server/middleware",sourcesContent:["import Joi from 'joi';\n\nconst validateLogin = (req, res, next) => {\n  const schema = {\n    email: Joi.string().email({ minDomainSegments: 2 }).required(),\n    password: Joi.string().regex(/^[a-zA-Z0-9]{3,30}$/).required(),\n  };\n  const { error } = Joi.validate(req.body, schema);\n  if (error) {\n    if (error.details[0].message.replace('/', '').replace(/\"/g, '').includes('email')) {\n      return res.status(400).json({\n        status: 400,\n        error: {\n          error: 'Incorrect email format. use: example@mail.com',\n        },\n      });\n    }\n    return res.status(400).json({\n      status: 400,\n      error: error.details[0].message.replace('/', '').replace(/\"/g, ''),\n    });\n  }\n  next();\n};\nexport default validateLogin;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8db49c2b2abf46ed396801793ac5ed1df163e55"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_2kax4x7o7s=function(){return actualCoverage;};return actualCoverage;}cov_2kax4x7o7s();cov_2kax4x7o7s().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2kax4x7o7s().s[1]++;exports["default"]=void 0;var _joi=(cov_2kax4x7o7s().s[2]++,_interopRequireDefault(require("joi")));function _interopRequireDefault(obj){cov_2kax4x7o7s().f[0]++;cov_2kax4x7o7s().s[3]++;return(cov_2kax4x7o7s().b[1][0]++,obj)&&(cov_2kax4x7o7s().b[1][1]++,obj.__esModule)?(cov_2kax4x7o7s().b[0][0]++,obj):(cov_2kax4x7o7s().b[0][1]++,{"default":obj});}cov_2kax4x7o7s().s[4]++;var validateLogin=function validateLogin(req,res,next){cov_2kax4x7o7s().f[1]++;var schema=(cov_2kax4x7o7s().s[5]++,{email:_joi["default"].string().email({minDomainSegments:2}).required(),password:_joi["default"].string().regex(/^[a-zA-Z0-9]{3,30}$/).required()});var _Joi$validate=(cov_2kax4x7o7s().s[6]++,_joi["default"].validate(req.body,schema)),error=(cov_2kax4x7o7s().s[7]++,_Joi$validate.error);cov_2kax4x7o7s().s[8]++;if(error){cov_2kax4x7o7s().b[2][0]++;cov_2kax4x7o7s().s[9]++;if(error.details[0].message.replace('/','').replace(/"/g,'').includes('email')){cov_2kax4x7o7s().b[3][0]++;cov_2kax4x7o7s().s[10]++;return res.status(400).json({status:400,error:{error:'Incorrect email format. use: example@mail.com'}});}else{cov_2kax4x7o7s().b[3][1]++;}cov_2kax4x7o7s().s[11]++;return res.status(400).json({status:400,error:error.details[0].message.replace('/','').replace(/"/g,'')});}else{cov_2kax4x7o7s().b[2][1]++;}cov_2kax4x7o7s().s[12]++;next();};var _default=(cov_2kax4x7o7s().s[13]++,validateLogin);cov_2kax4x7o7s().s[14]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luVmFsaWQuanMiXSwibmFtZXMiOlsidmFsaWRhdGVMb2dpbiIsInJlcSIsInJlcyIsIm5leHQiLCJzY2hlbWEiLCJlbWFpbCIsIkpvaSIsInN0cmluZyIsIm1pbkRvbWFpblNlZ21lbnRzIiwicmVxdWlyZWQiLCJwYXNzd29yZCIsInJlZ2V4IiwidmFsaWRhdGUiLCJib2R5IiwiZXJyb3IiLCJkZXRhaWxzIiwibWVzc2FnZSIsInJlcGxhY2UiLCJpbmNsdWRlcyIsInN0YXR1cyIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQU1BLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0IsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDeEMsTUFBTUMsTUFBTSxHQUFHO0FBQ2JDLElBQUFBLEtBQUssRUFBRUMsZ0JBQUlDLE1BQUosR0FBYUYsS0FBYixDQUFtQjtBQUFFRyxNQUFBQSxpQkFBaUIsRUFBRTtBQUFyQixLQUFuQixFQUE2Q0MsUUFBN0MsRUFETTtBQUViQyxJQUFBQSxRQUFRLEVBQUVKLGdCQUFJQyxNQUFKLEdBQWFJLEtBQWIsQ0FBbUIscUJBQW5CLEVBQTBDRixRQUExQztBQUZHLEdBQWY7O0FBRHdDLHNCQUt0QkgsZ0JBQUlNLFFBQUosQ0FBYVgsR0FBRyxDQUFDWSxJQUFqQixFQUF1QlQsTUFBdkIsQ0FMc0I7QUFBQSxNQUtoQ1UsS0FMZ0MsaUJBS2hDQSxLQUxnQzs7QUFNeEMsTUFBSUEsS0FBSixFQUFXO0FBQ1QsUUFBSUEsS0FBSyxDQUFDQyxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBakIsQ0FBeUJDLE9BQXpCLENBQWlDLEdBQWpDLEVBQXNDLEVBQXRDLEVBQTBDQSxPQUExQyxDQUFrRCxJQUFsRCxFQUF3RCxFQUF4RCxFQUE0REMsUUFBNUQsQ0FBcUUsT0FBckUsQ0FBSixFQUFtRjtBQUNqRixhQUFPaEIsR0FBRyxDQUFDaUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCRCxRQUFBQSxNQUFNLEVBQUUsR0FEa0I7QUFFMUJMLFFBQUFBLEtBQUssRUFBRTtBQUNMQSxVQUFBQSxLQUFLLEVBQUU7QUFERjtBQUZtQixPQUFyQixDQUFQO0FBTUQ7O0FBQ0QsV0FBT1osR0FBRyxDQUFDaUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCRCxNQUFBQSxNQUFNLEVBQUUsR0FEa0I7QUFFMUJMLE1BQUFBLEtBQUssRUFBRUEsS0FBSyxDQUFDQyxPQUFOLENBQWMsQ0FBZCxFQUFpQkMsT0FBakIsQ0FBeUJDLE9BQXpCLENBQWlDLEdBQWpDLEVBQXNDLEVBQXRDLEVBQTBDQSxPQUExQyxDQUFrRCxJQUFsRCxFQUF3RCxFQUF4RDtBQUZtQixLQUFyQixDQUFQO0FBSUQ7O0FBQ0RkLEVBQUFBLElBQUk7QUFDTCxDQXJCRDs7ZUFzQmVILGEiLCJzb3VyY2VSb290IjoiL2hvbWUvYWduZXMvRG9jdW1lbnRzL0JhbmtfUGFwZWwvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gJ2pvaSc7XG5cbmNvbnN0IHZhbGlkYXRlTG9naW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgc2NoZW1hID0ge1xuICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoeyBtaW5Eb21haW5TZWdtZW50czogMiB9KS5yZXF1aXJlZCgpLFxuICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVnZXgoL15bYS16QS1aMC05XXszLDMwfSQvKS5yZXF1aXJlZCgpLFxuICB9O1xuICBjb25zdCB7IGVycm9yIH0gPSBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSk7XG4gIGlmIChlcnJvcikge1xuICAgIGlmIChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UucmVwbGFjZSgnLycsICcnKS5yZXBsYWNlKC9cIi9nLCAnJykuaW5jbHVkZXMoJ2VtYWlsJykpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGVycm9yOiAnSW5jb3JyZWN0IGVtYWlsIGZvcm1hdC4gdXNlOiBleGFtcGxlQG1haWwuY29tJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBlcnJvcjogZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlLnJlcGxhY2UoJy8nLCAnJykucmVwbGFjZSgvXCIvZywgJycpLFxuICAgIH0pO1xuICB9XG4gIG5leHQoKTtcbn07XG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZUxvZ2luO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luVmFsaWQuanMiXSwibmFtZXMiOlsidmFsaWRhdGVMb2dpbiIsInNjaGVtYSIsImVtYWlsIiwibWluRG9tYWluU2VnbWVudHMiLCJwYXNzd29yZCIsIkpvaSIsImVycm9yIiwicmVxIiwic3RhdHVzIiwibmV4dCJdLCJtYXBwaW5ncyI6Iis3SkFBQSxHQUFBLENBQUEsSUFBQSwwQkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSxDQUFBLEMsZ1JBRUEsR0FBTUEsQ0FBQUEsYUFBYSxDQUFHLFFBQWhCQSxDQUFBQSxhQUFnQixDQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsSUFBQSxDQUFvQix5QkFDeEMsR0FBTUMsQ0FBQUEsTUFBTSwwQkFBRyxDQUNiQyxLQUFLLENBQUUsSUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLE1BQUEsR0FBQSxLQUFBLENBQW1CLENBQUVDLGlCQUFpQixDQUFFLENBQXJCLENBQW5CLEVBRE0sUUFDTixFQURNLENBRWJDLFFBQVEsQ0FBRUMsSUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsQ0FBQUEsTUFBQUEsR0FBQUEsS0FBQUEsQ0FBQUEscUJBQUFBLEVBQUFBLFFBQUFBLEVBRkcsQ0FBSCxDQUFaLENBRHdDLEdBQUEsQ0FBQSxhQUFBLDBCQUt0QkEsSUFBQUEsQ0FBQUEsU0FBQUEsQ0FBQUEsQ0FBQUEsUUFBQUEsQ0FBYUUsR0FBRyxDQUFoQkYsSUFBQUEsQ0FMc0IsTUFLdEJBLENBTHNCLENBQUEsQ0FLaENDLEtBTGdDLDBCQUFBLGFBQUEsQ0FBQSxLQUFBLENBQUEsQ0FBQSx3QkFNeEMsR0FBQSxLQUFBLENBQVcsb0RBQ1QsR0FBSUEsS0FBSyxDQUFMQSxPQUFBQSxDQUFBQSxDQUFBQSxFQUFBQSxPQUFBQSxDQUFBQSxPQUFBQSxDQUFBQSxHQUFBQSxDQUFBQSxFQUFBQSxFQUFBQSxPQUFBQSxDQUFBQSxJQUFBQSxDQUFBQSxFQUFBQSxFQUFBQSxRQUFBQSxDQUFKLE9BQUlBLENBQUosQ0FBbUYscURBQ2pGLE1BQU8sQ0FBQSxHQUFHLENBQUgsTUFBQSxDQUFBLEdBQUEsRUFBQSxJQUFBLENBQXFCLENBQzFCRSxNQUFNLENBRG9CLEdBQUEsQ0FFMUJGLEtBQUssQ0FBRSxDQUNMQSxLQUFLLENBQUUsK0NBREYsQ0FGbUIsQ0FBckIsQ0FBUCxDQU1ELENBUEQsaUNBRFMseUJBU1QsTUFBTyxDQUFBLEdBQUcsQ0FBSCxNQUFBLENBQUEsR0FBQSxFQUFBLElBQUEsQ0FBcUIsQ0FDMUJFLE1BQU0sQ0FEb0IsR0FBQSxDQUUxQkYsS0FBSyxDQUFFQSxLQUFLLENBQUxBLE9BQUFBLENBQUFBLENBQUFBLEVBQUFBLE9BQUFBLENBQUFBLE9BQUFBLENBQUFBLEdBQUFBLENBQUFBLEVBQUFBLEVBQUFBLE9BQUFBLENBQUFBLElBQUFBLENBQUFBLEVBQUFBLENBRm1CLENBQXJCLENBQVAsQ0FJRCxDQWJELGlDQU53Qyx5QkFvQnhDRyxJQUFJLEdBcEJOLENBQUEsQyx1Q0FzQmVULGEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gJ2pvaSc7XG5cbmNvbnN0IHZhbGlkYXRlTG9naW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgY29uc3Qgc2NoZW1hID0ge1xuICAgIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoeyBtaW5Eb21haW5TZWdtZW50czogMiB9KS5yZXF1aXJlZCgpLFxuICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVnZXgoL15bYS16QS1aMC05XXszLDMwfSQvKS5yZXF1aXJlZCgpLFxuICB9O1xuICBjb25zdCB7IGVycm9yIH0gPSBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSk7XG4gIGlmIChlcnJvcikge1xuICAgIGlmIChlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UucmVwbGFjZSgnLycsICcnKS5yZXBsYWNlKC9cIi9nLCAnJykuaW5jbHVkZXMoJ2VtYWlsJykpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGVycm9yOiAnSW5jb3JyZWN0IGVtYWlsIGZvcm1hdC4gdXNlOiBleGFtcGxlQG1haWwuY29tJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICBlcnJvcjogZXJyb3IuZGV0YWlsc1swXS5tZXNzYWdlLnJlcGxhY2UoJy8nLCAnJykucmVwbGFjZSgvXCIvZywgJycpLFxuICAgIH0pO1xuICB9XG4gIG5leHQoKTtcbn07XG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZUxvZ2luO1xuIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9hZ25lcy9Eb2N1bWVudHMvQmFua19QYXBlbC9zZXJ2ZXIvbWlkZGxld2FyZSJ9