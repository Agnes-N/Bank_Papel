"use strict";function cov_d9m55io83(){var path="/home/agnes/Documents/Bank_Papel/server/controllers/user.js";var hash="4df0de2ffe3a86a242eae1a051df1126d05f4128";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/agnes/Documents/Bank_Papel/server/controllers/user.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:14},end:{line:8,column:55}},"3":{start:{line:10,column:20},end:{line:10,column:67}},"4":{start:{line:12,column:17},end:{line:12,column:71}},"5":{start:{line:14,column:0},end:{line:14,column:27}},"6":{start:{line:16,column:0},end:{line:16,column:47}},"7":{start:{line:18,column:39},end:{line:18,column:95}},"8":{start:{line:20,column:34},end:{line:20,column:117}},"9":{start:{line:22,column:30},end:{line:22,column:106}},"10":{start:{line:24,column:41},end:{line:24,column:155}},"11":{start:{line:24,column:146},end:{line:24,column:153}},"12":{start:{line:24,column:167},end:{line:24,column:169}},"13":{start:{line:24,column:180},end:{line:24,column:184}},"14":{start:{line:24,column:195},end:{line:24,column:200}},"15":{start:{line:24,column:211},end:{line:24,column:220}},"16":{start:{line:24,column:222},end:{line:24,column:509}},"17":{start:{line:24,column:228},end:{line:24,column:371}},"18":{start:{line:24,column:242},end:{line:24,column:264}},"19":{start:{line:24,column:314},end:{line:24,column:334}},"20":{start:{line:24,column:335},end:{line:24,column:369}},"21":{start:{line:24,column:363},end:{line:24,column:369}},"22":{start:{line:24,column:388},end:{line:24,column:398}},"23":{start:{line:24,column:399},end:{line:24,column:408}},"24":{start:{line:24,column:421},end:{line:24,column:507}},"25":{start:{line:24,column:427},end:{line:24,column:475}},"26":{start:{line:24,column:460},end:{line:24,column:475}},"27":{start:{line:24,column:488},end:{line:24,column:505}},"28":{start:{line:24,column:496},end:{line:24,column:505}},"29":{start:{line:24,column:510},end:{line:24,column:522}},"30":{start:{line:26,column:32},end:{line:26,column:67}},"31":{start:{line:26,column:56},end:{line:26,column:67}},"32":{start:{line:28,column:77},end:{line:28,column:175}},"33":{start:{line:28,column:94},end:{line:28,column:107}},"34":{start:{line:28,column:121},end:{line:28,column:131}},"35":{start:{line:28,column:151},end:{line:28,column:165}},"36":{start:{line:28,column:166},end:{line:28,column:173}},"37":{start:{line:28,column:176},end:{line:28,column:263}},"38":{start:{line:28,column:193},end:{line:28,column:208}},"39":{start:{line:28,column:218},end:{line:28,column:261}},"40":{start:{line:30,column:33},end:{line:30,column:387}},"41":{start:{line:30,column:65},end:{line:30,column:69}},"42":{start:{line:30,column:78},end:{line:30,column:87}},"43":{start:{line:30,column:89},end:{line:30,column:384}},"44":{start:{line:30,column:147},end:{line:30,column:167}},"45":{start:{line:30,column:193},end:{line:30,column:264}},"46":{start:{line:30,column:290},end:{line:30,column:360}},"47":{start:{line:30,column:363},end:{line:30,column:380}},"48":{start:{line:32,column:12},end:{line:169,column:1}},"49":{start:{line:34,column:4},end:{line:99,column:10}},"50":{start:{line:39,column:6},end:{line:98,column:18}},"51":{start:{line:40,column:8},end:{line:97,column:9}},"52":{start:{line:41,column:10},end:{line:96,column:11}},"53":{start:{line:43,column:14},end:{line:43,column:94}},"54":{start:{line:45,column:14},end:{line:48,column:15}},"55":{start:{line:46,column:16},end:{line:46,column:34}},"56":{start:{line:47,column:16},end:{line:47,column:22}},"57":{start:{line:50,column:14},end:{line:53,column:18}},"58":{start:{line:56,column:14},end:{line:56,column:43}},"59":{start:{line:57,column:14},end:{line:57,column:47}},"60":{start:{line:58,column:14},end:{line:58,column:46}},"61":{start:{line:59,column:14},end:{line:59,column:32}},"62":{start:{line:60,column:14},end:{line:60,column:68}},"63":{start:{line:63,column:14},end:{line:63,column:42}},"64":{start:{line:64,column:14},end:{line:69,column:16}},"65":{start:{line:70,column:14},end:{line:70,column:233}},"66":{start:{line:71,column:14},end:{line:71,column:33}},"67":{start:{line:72,column:14},end:{line:72,column:61}},"68":{start:{line:75,column:14},end:{line:75,column:35}},"69":{start:{line:76,column:14},end:{line:76,column:55}},"70":{start:{line:77,column:14},end:{line:77,column:37}},"71":{start:{line:78,column:14},end:{line:81,column:34}},"72":{start:{line:82,column:14},end:{line:91,column:17}},"73":{start:{line:95,column:14},end:{line:95,column:37}},"74":{start:{line:102,column:4},end:{line:167,column:10}},"75":{start:{line:107,column:6},end:{line:166,column:19}},"76":{start:{line:108,column:8},end:{line:165,column:9}},"77":{start:{line:109,column:10},end:{line:164,column:11}},"78":{start:{line:111,column:14},end:{line:111,column:94}},"79":{start:{line:113,column:14},end:{line:116,column:15}},"80":{start:{line:114,column:16},end:{line:114,column:35}},"81":{start:{line:115,column:16},end:{line:115,column:22}},"82":{start:{line:118,column:14},end:{line:121,column:18}},"83":{start:{line:124,column:14},end:{line:124,column:44}},"84":{start:{line:125,column:14},end:{line:125,column:48}},"85":{start:{line:126,column:14},end:{line:126,column:47}},"86":{start:{line:127,column:14},end:{line:127,column:33}},"87":{start:{line:128,column:14},end:{line:128,column:68}},"88":{start:{line:131,column:14},end:{line:131,column:44}},"89":{start:{line:132,column:14},end:{line:137,column:16}},"90":{start:{line:138,column:14},end:{line:138,column:233}},"91":{start:{line:139,column:14},end:{line:139,column:34}},"92":{start:{line:140,column:14},end:{line:140,column:61}},"93":{start:{line:143,column:14},end:{line:143,column:37}},"94":{start:{line:144,column:14},end:{line:144,column:57}},"95":{start:{line:145,column:14},end:{line:145,column:38}},"96":{start:{line:146,column:14},end:{line:149,column:34}},"97":{start:{line:150,column:14},end:{line:159,column:17}},"98":{start:{line:163,column:14},end:{line:163,column:38}},"99":{start:{line:170,column:15},end:{line:170,column:20}},"100":{start:{line:171,column:0},end:{line:171,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:18,column:9},end:{line:18,column:31}},loc:{start:{line:18,column:37},end:{line:18,column:97}},line:18},"1":{name:"_slicedToArray",decl:{start:{line:20,column:9},end:{line:20,column:23}},loc:{start:{line:20,column:32},end:{line:20,column:119}},line:20},"2":{name:"_nonIterableRest",decl:{start:{line:22,column:9},end:{line:22,column:25}},loc:{start:{line:22,column:28},end:{line:22,column:108}},line:22},"3":{name:"_iterableToArrayLimit",decl:{start:{line:24,column:9},end:{line:24,column:30}},loc:{start:{line:24,column:39},end:{line:24,column:524}},line:24},"4":{name:"_arrayWithHoles",decl:{start:{line:26,column:9},end:{line:26,column:24}},loc:{start:{line:26,column:30},end:{line:26,column:69}},line:26},"5":{name:"asyncGeneratorStep",decl:{start:{line:28,column:9},end:{line:28,column:27}},loc:{start:{line:28,column:75},end:{line:28,column:265}},line:28},"6":{name:"_asyncToGenerator",decl:{start:{line:30,column:9},end:{line:30,column:26}},loc:{start:{line:30,column:31},end:{line:30,column:389}},line:30},"7":{name:"(anonymous_7)",decl:{start:{line:30,column:40},end:{line:30,column:41}},loc:{start:{line:30,column:52},end:{line:30,column:386}},line:30},"8":{name:"(anonymous_8)",decl:{start:{line:30,column:108},end:{line:30,column:109}},loc:{start:{line:30,column:135},end:{line:30,column:382}},line:30},"9":{name:"_next",decl:{start:{line:30,column:178},end:{line:30,column:183}},loc:{start:{line:30,column:191},end:{line:30,column:266}},line:30},"10":{name:"_throw",decl:{start:{line:30,column:276},end:{line:30,column:282}},loc:{start:{line:30,column:288},end:{line:30,column:362}},line:30},"11":{name:"signup",decl:{start:{line:33,column:19},end:{line:33,column:25}},loc:{start:{line:33,column:36},end:{line:100,column:3}},line:33},"12":{name:"_callee",decl:{start:{line:36,column:37},end:{line:36,column:44}},loc:{start:{line:36,column:47},end:{line:99,column:5}},line:36},"13":{name:"_callee$",decl:{start:{line:39,column:46},end:{line:39,column:54}},loc:{start:{line:39,column:65},end:{line:98,column:7}},line:39},"14":{name:"login",decl:{start:{line:101,column:18},end:{line:101,column:23}},loc:{start:{line:101,column:34},end:{line:168,column:3}},line:101},"15":{name:"_callee2",decl:{start:{line:104,column:37},end:{line:104,column:45}},loc:{start:{line:104,column:48},end:{line:167,column:5}},line:104},"16":{name:"_callee2$",decl:{start:{line:107,column:46},end:{line:107,column:55}},loc:{start:{line:107,column:67},end:{line:166,column:7}},line:107}},branchMap:{"0":{loc:{start:{line:18,column:46},end:{line:18,column:94}},type:"cond-expr",locations:[{start:{line:18,column:70},end:{line:18,column:73}},{start:{line:18,column:76},end:{line:18,column:94}}],line:18},"1":{loc:{start:{line:18,column:46},end:{line:18,column:67}},type:"binary-expr",locations:[{start:{line:18,column:46},end:{line:18,column:49}},{start:{line:18,column:53},end:{line:18,column:67}}],line:18},"2":{loc:{start:{line:20,column:41},end:{line:20,column:116}},type:"binary-expr",locations:[{start:{line:20,column:41},end:{line:20,column:61}},{start:{line:20,column:65},end:{line:20,column:94}},{start:{line:20,column:98},end:{line:20,column:116}}],line:20},"3":{loc:{start:{line:24,column:41},end:{line:24,column:155}},type:"if",locations:[{start:{line:24,column:41},end:{line:24,column:155}},{start:{line:24,column:41},end:{line:24,column:155}}],line:24},"4":{loc:{start:{line:24,column:47},end:{line:24,column:141}},type:"binary-expr",locations:[{start:{line:24,column:47},end:{line:24,column:77}},{start:{line:24,column:81},end:{line:24,column:141}}],line:24},"5":{loc:{start:{line:24,column:335},end:{line:24,column:369}},type:"if",locations:[{start:{line:24,column:335},end:{line:24,column:369}},{start:{line:24,column:335},end:{line:24,column:369}}],line:24},"6":{loc:{start:{line:24,column:339},end:{line:24,column:361}},type:"binary-expr",locations:[{start:{line:24,column:339},end:{line:24,column:340}},{start:{line:24,column:344},end:{line:24,column:361}}],line:24},"7":{loc:{start:{line:24,column:427},end:{line:24,column:475}},type:"if",locations:[{start:{line:24,column:427},end:{line:24,column:475}},{start:{line:24,column:427},end:{line:24,column:475}}],line:24},"8":{loc:{start:{line:24,column:431},end:{line:24,column:458}},type:"binary-expr",locations:[{start:{line:24,column:431},end:{line:24,column:434}},{start:{line:24,column:438},end:{line:24,column:458}}],line:24},"9":{loc:{start:{line:24,column:488},end:{line:24,column:505}},type:"if",locations:[{start:{line:24,column:488},end:{line:24,column:505}},{start:{line:24,column:488},end:{line:24,column:505}}],line:24},"10":{loc:{start:{line:26,column:32},end:{line:26,column:67}},type:"if",locations:[{start:{line:26,column:32},end:{line:26,column:67}},{start:{line:26,column:32},end:{line:26,column:67}}],line:26},"11":{loc:{start:{line:28,column:176},end:{line:28,column:263}},type:"if",locations:[{start:{line:28,column:176},end:{line:28,column:263}},{start:{line:28,column:176},end:{line:28,column:263}}],line:28},"12":{loc:{start:{line:41,column:10},end:{line:96,column:11}},type:"switch",locations:[{start:{line:42,column:12},end:{line:53,column:18}},{start:{line:55,column:12},end:{line:60,column:68}},{start:{line:62,column:12},end:{line:72,column:61}},{start:{line:74,column:12},end:{line:91,column:17}},{start:{line:93,column:12},end:{line:93,column:20}},{start:{line:94,column:12},end:{line:95,column:37}}],line:41},"13":{loc:{start:{line:45,column:14},end:{line:48,column:15}},type:"if",locations:[{start:{line:45,column:14},end:{line:48,column:15}},{start:{line:45,column:14},end:{line:48,column:15}}],line:45},"14":{loc:{start:{line:109,column:10},end:{line:164,column:11}},type:"switch",locations:[{start:{line:110,column:12},end:{line:121,column:18}},{start:{line:123,column:12},end:{line:128,column:68}},{start:{line:130,column:12},end:{line:140,column:61}},{start:{line:142,column:12},end:{line:159,column:17}},{start:{line:161,column:12},end:{line:161,column:20}},{start:{line:162,column:12},end:{line:163,column:38}}],line:109},"15":{loc:{start:{line:113,column:14},end:{line:116,column:15}},type:"if",locations:[{start:{line:113,column:14},end:{line:116,column:15}},{start:{line:113,column:14},end:{line:116,column:15}}],line:113}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0,0,0,0],"13":[0,0],"14":[0,0,0,0,0,0],"15":[0,0]},inputSourceMap:{version:3,sources:["user.js"],names:["Users","signup","req","res","emailExist","body","email","status","send","error","firstName","lastName","bcrypt","hash","password","newUser","userInsert","pool","query","rows","userGet","token","jwt","sign","id","data","firstname","lastname","login"],mappings:"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",sourceRoot:"/home/agnes/Documents/Bank_Papel/server/controllers",sourcesContent:["import bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport pool from '../config/db_config';\nimport '@babel/polyfill';\nimport '@babel/plugin-transform-regenerator';\n\n\nconst Users = {\n  async signup(req, res) {\n    const emailExist = `SELECT * FROM users WHERE email = '${req.body.email}';`;\n\n    if (emailExist) {\n      return res.status(409).send({\n        status: 409,\n        error: 'Email already exists',\n      });\n    }\n    const newUser = {\n      email: req.body.email,\n      firstName: req.body.firstName,\n      lastName: req.body.lastName,\n      password: await bcrypt.hash(req.body.password, 10),\n    };\n\n    const userInsert = `INSERT INTO users (email, firstName, lastName, password) VALUES('${newUser.email}','${newUser.firstName}','${newUser.lastName}','${newUser.password}') RETURNING *;`;\n    const { rows: [userGet] } = await pool.query(userInsert);\n    const token = jwt.sign({\n      id: userGet.id,\n      email: userGet.email,\n    }, 'jwtprivatekey');\n\n    res.status(201).send({\n      status: 201,\n      data: {\n        token,\n        id: userGet.id,\n        firstName: userGet.firstname,\n        lastName: userGet.lastname,\n        email: userGet.email,\n      },\n    });\n  },\n\n  async login(req, res) {\n    const emailExist = `SELECT * FROM users WHERE email = '${req.body.email}';`;\n\n    if (emailExist) {\n      return res.status(409).send({\n        status: 409,\n        error: 'Email already exists',\n      });\n    }\n    const newUser = {\n      email: req.body.email,\n      firstName: req.body.firstName,\n      lastName: req.body.lastName,\n      password: await bcrypt.hash(req.body.password, 10),\n    };\n\n    const userInsert = `INSERT INTO users (email, firstName, lastName, password) VALUES('${newUser.email}','${newUser.firstName}','${newUser.lastName}','${newUser.password}') RETURNING *;`;\n    const { rows: [userGet] } = await pool.query(userInsert);\n    const token = jwt.sign({\n      id: userGet.id,\n      email: userGet.email,\n    }, 'jwtprivatekey');\n\n    res.status(201).send({\n      status: 201,\n      data: {\n        token,\n        id: userGet.id,\n        firstName: userGet.firstname,\n        lastName: userGet.lastname,\n        email: userGet.email,\n      },\n    });\n  },\n\n};\n\n\nexport default Users;\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4df0de2ffe3a86a242eae1a051df1126d05f4128"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_d9m55io83=function(){return actualCoverage;};return actualCoverage;}cov_d9m55io83();cov_d9m55io83().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_d9m55io83().s[1]++;exports["default"]=void 0;var _bcrypt=(cov_d9m55io83().s[2]++,_interopRequireDefault(require("bcrypt")));var _jsonwebtoken=(cov_d9m55io83().s[3]++,_interopRequireDefault(require("jsonwebtoken")));var _db_config=(cov_d9m55io83().s[4]++,_interopRequireDefault(require("../config/db_config")));cov_d9m55io83().s[5]++;require("@babel/polyfill");cov_d9m55io83().s[6]++;require("@babel/plugin-transform-regenerator");function _interopRequireDefault(obj){cov_d9m55io83().f[0]++;cov_d9m55io83().s[7]++;return(cov_d9m55io83().b[1][0]++,obj)&&(cov_d9m55io83().b[1][1]++,obj.__esModule)?(cov_d9m55io83().b[0][0]++,obj):(cov_d9m55io83().b[0][1]++,{"default":obj});}function _slicedToArray(arr,i){cov_d9m55io83().f[1]++;cov_d9m55io83().s[8]++;return(cov_d9m55io83().b[2][0]++,_arrayWithHoles(arr))||(cov_d9m55io83().b[2][1]++,_iterableToArrayLimit(arr,i))||(cov_d9m55io83().b[2][2]++,_nonIterableRest());}function _nonIterableRest(){cov_d9m55io83().f[2]++;cov_d9m55io83().s[9]++;throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){cov_d9m55io83().f[3]++;cov_d9m55io83().s[10]++;if(!((cov_d9m55io83().b[4][0]++,Symbol.iterator in Object(arr))||(cov_d9m55io83().b[4][1]++,Object.prototype.toString.call(arr)==="[object Arguments]"))){cov_d9m55io83().b[3][0]++;cov_d9m55io83().s[11]++;return;}else{cov_d9m55io83().b[3][1]++;}var _arr=(cov_d9m55io83().s[12]++,[]);var _n=(cov_d9m55io83().s[13]++,true);var _d=(cov_d9m55io83().s[14]++,false);var _e=(cov_d9m55io83().s[15]++,undefined);cov_d9m55io83().s[16]++;try{cov_d9m55io83().s[17]++;for(var _i=(cov_d9m55io83().s[18]++,arr[Symbol.iterator]()),_s;!(_n=(_s=_i.next()).done);_n=true){cov_d9m55io83().s[19]++;_arr.push(_s.value);cov_d9m55io83().s[20]++;if((cov_d9m55io83().b[6][0]++,i)&&(cov_d9m55io83().b[6][1]++,_arr.length===i)){cov_d9m55io83().b[5][0]++;cov_d9m55io83().s[21]++;break;}else{cov_d9m55io83().b[5][1]++;}}}catch(err){cov_d9m55io83().s[22]++;_d=true;cov_d9m55io83().s[23]++;_e=err;}finally{cov_d9m55io83().s[24]++;try{cov_d9m55io83().s[25]++;if((cov_d9m55io83().b[8][0]++,!_n)&&(cov_d9m55io83().b[8][1]++,_i["return"]!=null)){cov_d9m55io83().b[7][0]++;cov_d9m55io83().s[26]++;_i["return"]();}else{cov_d9m55io83().b[7][1]++;}}finally{cov_d9m55io83().s[27]++;if(_d){cov_d9m55io83().b[9][0]++;cov_d9m55io83().s[28]++;throw _e;}else{cov_d9m55io83().b[9][1]++;}}}cov_d9m55io83().s[29]++;return _arr;}function _arrayWithHoles(arr){cov_d9m55io83().f[4]++;cov_d9m55io83().s[30]++;if(Array.isArray(arr)){cov_d9m55io83().b[10][0]++;cov_d9m55io83().s[31]++;return arr;}else{cov_d9m55io83().b[10][1]++;}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){cov_d9m55io83().f[5]++;cov_d9m55io83().s[32]++;try{var info=(cov_d9m55io83().s[33]++,gen[key](arg));var value=(cov_d9m55io83().s[34]++,info.value);}catch(error){cov_d9m55io83().s[35]++;reject(error);cov_d9m55io83().s[36]++;return;}cov_d9m55io83().s[37]++;if(info.done){cov_d9m55io83().b[11][0]++;cov_d9m55io83().s[38]++;resolve(value);}else{cov_d9m55io83().b[11][1]++;cov_d9m55io83().s[39]++;Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){cov_d9m55io83().f[6]++;cov_d9m55io83().s[40]++;return function(){cov_d9m55io83().f[7]++;var self=(cov_d9m55io83().s[41]++,this),args=(cov_d9m55io83().s[42]++,arguments);cov_d9m55io83().s[43]++;return new Promise(function(resolve,reject){cov_d9m55io83().f[8]++;var gen=(cov_d9m55io83().s[44]++,fn.apply(self,args));function _next(value){cov_d9m55io83().f[9]++;cov_d9m55io83().s[45]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){cov_d9m55io83().f[10]++;cov_d9m55io83().s[46]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}cov_d9m55io83().s[47]++;_next(undefined);});};}var Users=(cov_d9m55io83().s[48]++,{signup:function signup(req,res){cov_d9m55io83().f[11]++;cov_d9m55io83().s[49]++;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){cov_d9m55io83().f[12]++;var emailExist,newUser,userInsert,_ref,_ref$rows,userGet,token;cov_d9m55io83().s[50]++;return regeneratorRuntime.wrap(function _callee$(_context){cov_d9m55io83().f[13]++;cov_d9m55io83().s[51]++;while(1){cov_d9m55io83().s[52]++;switch(_context.prev=_context.next){case 0:cov_d9m55io83().b[12][0]++;cov_d9m55io83().s[53]++;emailExist="SELECT * FROM users WHERE email = '".concat(req.body.email,"';");cov_d9m55io83().s[54]++;if(!emailExist){cov_d9m55io83().b[13][0]++;cov_d9m55io83().s[55]++;_context.next=3;cov_d9m55io83().s[56]++;break;}else{cov_d9m55io83().b[13][1]++;}cov_d9m55io83().s[57]++;return _context.abrupt("return",res.status(409).send({status:409,error:'Email already exists'}));case 3:cov_d9m55io83().b[12][1]++;cov_d9m55io83().s[58]++;_context.t0=req.body.email;cov_d9m55io83().s[59]++;_context.t1=req.body.firstName;cov_d9m55io83().s[60]++;_context.t2=req.body.lastName;cov_d9m55io83().s[61]++;_context.next=8;cov_d9m55io83().s[62]++;return _bcrypt["default"].hash(req.body.password,10);case 8:cov_d9m55io83().b[12][2]++;cov_d9m55io83().s[63]++;_context.t3=_context.sent;cov_d9m55io83().s[64]++;newUser={email:_context.t0,firstName:_context.t1,lastName:_context.t2,password:_context.t3};cov_d9m55io83().s[65]++;userInsert="INSERT INTO users (email, firstName, lastName, password) VALUES('".concat(newUser.email,"','").concat(newUser.firstName,"','").concat(newUser.lastName,"','").concat(newUser.password,"') RETURNING *;");cov_d9m55io83().s[66]++;_context.next=13;cov_d9m55io83().s[67]++;return _db_config["default"].query(userInsert);case 13:cov_d9m55io83().b[12][3]++;cov_d9m55io83().s[68]++;_ref=_context.sent;cov_d9m55io83().s[69]++;_ref$rows=_slicedToArray(_ref.rows,1);cov_d9m55io83().s[70]++;userGet=_ref$rows[0];cov_d9m55io83().s[71]++;token=_jsonwebtoken["default"].sign({id:userGet.id,email:userGet.email},'jwtprivatekey');cov_d9m55io83().s[72]++;res.status(201).send({status:201,data:{token:token,id:userGet.id,firstName:userGet.firstname,lastName:userGet.lastname,email:userGet.email}});case 18:cov_d9m55io83().b[12][4]++;case"end":cov_d9m55io83().b[12][5]++;cov_d9m55io83().s[73]++;return _context.stop();}}},_callee);}))();},login:function login(req,res){cov_d9m55io83().f[14]++;cov_d9m55io83().s[74]++;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(){cov_d9m55io83().f[15]++;var emailExist,newUser,userInsert,_ref2,_ref2$rows,userGet,token;cov_d9m55io83().s[75]++;return regeneratorRuntime.wrap(function _callee2$(_context2){cov_d9m55io83().f[16]++;cov_d9m55io83().s[76]++;while(1){cov_d9m55io83().s[77]++;switch(_context2.prev=_context2.next){case 0:cov_d9m55io83().b[14][0]++;cov_d9m55io83().s[78]++;emailExist="SELECT * FROM users WHERE email = '".concat(req.body.email,"';");cov_d9m55io83().s[79]++;if(!emailExist){cov_d9m55io83().b[15][0]++;cov_d9m55io83().s[80]++;_context2.next=3;cov_d9m55io83().s[81]++;break;}else{cov_d9m55io83().b[15][1]++;}cov_d9m55io83().s[82]++;return _context2.abrupt("return",res.status(409).send({status:409,error:'Email already exists'}));case 3:cov_d9m55io83().b[14][1]++;cov_d9m55io83().s[83]++;_context2.t0=req.body.email;cov_d9m55io83().s[84]++;_context2.t1=req.body.firstName;cov_d9m55io83().s[85]++;_context2.t2=req.body.lastName;cov_d9m55io83().s[86]++;_context2.next=8;cov_d9m55io83().s[87]++;return _bcrypt["default"].hash(req.body.password,10);case 8:cov_d9m55io83().b[14][2]++;cov_d9m55io83().s[88]++;_context2.t3=_context2.sent;cov_d9m55io83().s[89]++;newUser={email:_context2.t0,firstName:_context2.t1,lastName:_context2.t2,password:_context2.t3};cov_d9m55io83().s[90]++;userInsert="INSERT INTO users (email, firstName, lastName, password) VALUES('".concat(newUser.email,"','").concat(newUser.firstName,"','").concat(newUser.lastName,"','").concat(newUser.password,"') RETURNING *;");cov_d9m55io83().s[91]++;_context2.next=13;cov_d9m55io83().s[92]++;return _db_config["default"].query(userInsert);case 13:cov_d9m55io83().b[14][3]++;cov_d9m55io83().s[93]++;_ref2=_context2.sent;cov_d9m55io83().s[94]++;_ref2$rows=_slicedToArray(_ref2.rows,1);cov_d9m55io83().s[95]++;userGet=_ref2$rows[0];cov_d9m55io83().s[96]++;token=_jsonwebtoken["default"].sign({id:userGet.id,email:userGet.email},'jwtprivatekey');cov_d9m55io83().s[97]++;res.status(201).send({status:201,data:{token:token,id:userGet.id,firstName:userGet.firstname,lastName:userGet.lastname,email:userGet.email}});case 18:cov_d9m55io83().b[14][4]++;case"end":cov_d9m55io83().b[14][5]++;cov_d9m55io83().s[98]++;return _context2.stop();}}},_callee2);}))();}});var _default=(cov_d9m55io83().s[99]++,Users);cov_d9m55io83().s[100]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiVXNlcnMiLCJzaWdudXAiLCJyZXEiLCJyZXMiLCJlbWFpbEV4aXN0IiwiYm9keSIsImVtYWlsIiwic3RhdHVzIiwic2VuZCIsImVycm9yIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJiY3J5cHQiLCJoYXNoIiwicGFzc3dvcmQiLCJuZXdVc2VyIiwidXNlckluc2VydCIsInBvb2wiLCJxdWVyeSIsInJvd3MiLCJ1c2VyR2V0IiwidG9rZW4iLCJqd3QiLCJzaWduIiwiaWQiLCJkYXRhIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJsb2dpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBTUEsS0FBSyxHQUFHO0FBQ05DLEVBQUFBLE1BRE0sa0JBQ0NDLEdBREQsRUFDTUMsR0FETixFQUNXO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDZkMsY0FBQUEsVUFEZSxnREFDb0NGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxLQUQ3Qzs7QUFBQSxtQkFHakJGLFVBSGlCO0FBQUE7QUFBQTtBQUFBOztBQUFBLCtDQUlaRCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsZ0JBQUFBLE1BQU0sRUFBRSxHQURrQjtBQUUxQkUsZ0JBQUFBLEtBQUssRUFBRTtBQUZtQixlQUFyQixDQUpZOztBQUFBO0FBQUEsNEJBVVpQLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxLQVZHO0FBQUEsNEJBV1JKLEdBQUcsQ0FBQ0csSUFBSixDQUFTSyxTQVhEO0FBQUEsNEJBWVRSLEdBQUcsQ0FBQ0csSUFBSixDQUFTTSxRQVpBO0FBQUE7QUFBQSxxQkFhSEMsbUJBQU9DLElBQVAsQ0FBWVgsR0FBRyxDQUFDRyxJQUFKLENBQVNTLFFBQXJCLEVBQStCLEVBQS9CLENBYkc7O0FBQUE7QUFBQTtBQVNm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QUFDZDtBQUZNLGVBQVQsRUFHWCxlQUhXLENBbEJNO0FBdUJwQkgsY0FBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDbkJELGdCQUFBQSxNQUFNLEVBQUUsR0FEVztBQUVuQmtCLGdCQUFBQSxJQUFJLEVBQUU7QUFDSkosa0JBQUFBLEtBQUssRUFBTEEsS0FESTtBQUVKRyxrQkFBQUEsRUFBRSxFQUFFSixPQUFPLENBQUNJLEVBRlI7QUFHSmQsa0JBQUFBLFNBQVMsRUFBRVUsT0FBTyxDQUFDTSxTQUhmO0FBSUpmLGtCQUFBQSxRQUFRLEVBQUVTLE9BQU8sQ0FBQ08sUUFKZDtBQUtKckIsa0JBQUFBLEtBQUssRUFBRWMsT0FBTyxDQUFDZDtBQUxYO0FBRmEsZUFBckI7O0FBdkJvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWlDckI7QUFyRVcsQ0FBZDtlQTBFZU4sSyIsInNvdXJjZVJvb3QiOiIvaG9tZS9hZ25lcy9Eb2N1bWVudHMvQmFua19QYXBlbC9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgcG9vbCBmcm9tICcuLi9jb25maWcvZGJfY29uZmlnJztcbmltcG9ydCAnQGJhYmVsL3BvbHlmaWxsJztcbmltcG9ydCAnQGJhYmVsL3BsdWdpbi10cmFuc2Zvcm0tcmVnZW5lcmF0b3InO1xuXG5cbmNvbnN0IFVzZXJzID0ge1xuICBhc3luYyBzaWdudXAocmVxLCByZXMpIHtcbiAgICBjb25zdCBlbWFpbEV4aXN0ID0gYFNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAnJHtyZXEuYm9keS5lbWFpbH0nO2A7XG5cbiAgICBpZiAoZW1haWxFeGlzdCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiA0MDksXG4gICAgICAgIGVycm9yOiAnRW1haWwgYWxyZWFkeSBleGlzdHMnLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgICBmaXJzdE5hbWU6IHJlcS5ib2R5LmZpcnN0TmFtZSxcbiAgICAgIGxhc3ROYW1lOiByZXEuYm9keS5sYXN0TmFtZSxcbiAgICAgIHBhc3N3b3JkOiBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgMTApLFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VySW5zZXJ0ID0gYElOU0VSVCBJTlRPIHVzZXJzIChlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGFzc3dvcmQpIFZBTFVFUygnJHtuZXdVc2VyLmVtYWlsfScsJyR7bmV3VXNlci5maXJzdE5hbWV9JywnJHtuZXdVc2VyLmxhc3ROYW1lfScsJyR7bmV3VXNlci5wYXNzd29yZH0nKSBSRVRVUk5JTkcgKjtgO1xuICAgIGNvbnN0IHsgcm93czogW3VzZXJHZXRdIH0gPSBhd2FpdCBwb29sLnF1ZXJ5KHVzZXJJbnNlcnQpO1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe1xuICAgICAgaWQ6IHVzZXJHZXQuaWQsXG4gICAgICBlbWFpbDogdXNlckdldC5lbWFpbCxcbiAgICB9LCAnand0cHJpdmF0ZWtleScpO1xuXG4gICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xuICAgICAgc3RhdHVzOiAyMDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHRva2VuLFxuICAgICAgICBpZDogdXNlckdldC5pZCxcbiAgICAgICAgZmlyc3ROYW1lOiB1c2VyR2V0LmZpcnN0bmFtZSxcbiAgICAgICAgbGFzdE5hbWU6IHVzZXJHZXQubGFzdG5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyR2V0LmVtYWlsLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcblxuICBhc3luYyBsb2dpbihyZXEsIHJlcykge1xuICAgIGNvbnN0IGVtYWlsRXhpc3QgPSBgU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ICcke3JlcS5ib2R5LmVtYWlsfSc7YDtcblxuICAgIGlmIChlbWFpbEV4aXN0KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLnNlbmQoe1xuICAgICAgICBzdGF0dXM6IDQwOSxcbiAgICAgICAgZXJyb3I6ICdFbWFpbCBhbHJlYWR5IGV4aXN0cycsXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbmV3VXNlciA9IHtcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgIGZpcnN0TmFtZTogcmVxLmJvZHkuZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWU6IHJlcS5ib2R5Lmxhc3ROYW1lLFxuICAgICAgcGFzc3dvcmQ6IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCksXG4gICAgfTtcblxuICAgIGNvbnN0IHVzZXJJbnNlcnQgPSBgSU5TRVJUIElOVE8gdXNlcnMgKGVtYWlsLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBwYXNzd29yZCkgVkFMVUVTKCcke25ld1VzZXIuZW1haWx9JywnJHtuZXdVc2VyLmZpcnN0TmFtZX0nLCcke25ld1VzZXIubGFzdE5hbWV9JywnJHtuZXdVc2VyLnBhc3N3b3JkfScpIFJFVFVSTklORyAqO2A7XG4gICAgY29uc3QgeyByb3dzOiBbdXNlckdldF0gfSA9IGF3YWl0IHBvb2wucXVlcnkodXNlckluc2VydCk7XG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7XG4gICAgICBpZDogdXNlckdldC5pZCxcbiAgICAgIGVtYWlsOiB1c2VyR2V0LmVtYWlsLFxuICAgIH0sICdqd3Rwcml2YXRla2V5Jyk7XG5cbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XG4gICAgICBzdGF0dXM6IDIwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIGlkOiB1c2VyR2V0LmlkLFxuICAgICAgICBmaXJzdE5hbWU6IHVzZXJHZXQuZmlyc3RuYW1lLFxuICAgICAgICBsYXN0TmFtZTogdXNlckdldC5sYXN0bmFtZSxcbiAgICAgICAgZW1haWw6IHVzZXJHZXQuZW1haWwsXG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxuXG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJzO1xuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiVXNlcnMiLCJzaWdudXAiLCJlbWFpbEV4aXN0IiwicmVxIiwic3RhdHVzIiwiZXJyb3IiLCJuZXdVc2VyIiwiZW1haWwiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInBhc3N3b3JkIiwiYmNyeXB0IiwidXNlckluc2VydCIsInVzZXJHZXQiLCJwb29sIiwidG9rZW4iLCJpZCIsInJlcyIsImRhdGEiLCJsb2dpbiJdLCJtYXBwaW5ncyI6IjhnbUJBQUEsR0FBQSxDQUFBLE9BQUEseUJBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEsUUFBQSxDQUFBLENBQUEsQ0FBQSxDQUNBLEdBQUEsQ0FBQSxhQUFBLHlCQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQSxDQUFBLENBQUEsQ0FDQSxHQUFBLENBQUEsVUFBQSx5QkFBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxxQkFBQSxDQUFBLENBQUEsQ0FBQSxDLHVCQUNBLE9BQUEsQ0FBQSxpQkFBQSxDQUFBLEMsdUJBQ0EsT0FBQSxDQUFBLHFDQUFBLENBQUEsQyw4eEdBR0EsR0FBTUEsQ0FBQUEsS0FBSywwQkFBRyxDQUNOQyxNQURNLENBQUEsUUFBQSxDQUFBLE1BQUEsQ0FBQSxHQUFBLENBQUEsR0FBQSxDQUNXLGlEQUFBLE1BQUEsQ0FBQSxpQkFBQSxDQUFBLGFBQUEsa0JBQUEsQ0FBQSxJQUFBLENBQUEsUUFBQSxDQUFBLE9BQUEsRUFBQSx5QkFBQSxHQUFBLENBQUEsVUFBQSxDQUFBLE9BQUEsQ0FBQSxVQUFBLENBQUEsSUFBQSxDQUFBLFNBQUEsQ0FBQSxPQUFBLENBQUEsS0FBQSxDQUFBLHdCQUFBLE1BQUEsQ0FBQSxrQkFBQSxDQUFBLElBQUEsQ0FBQSxRQUFBLENBQUEsUUFBQSxDQUFBLFFBQUEsQ0FBQSxpREFBQSxNQUFBLENBQUEsQ0FBQSx5QkFBQSxPQUFBLFFBQUEsQ0FBQSxJQUFBLENBQUEsUUFBQSxDQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsb0RBQ2ZD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LENBQUEsQ0FpQkxBLENBakJLLHdCQWtCZEUsS0FsQmMsQ0FrQk4sYUFBQSxDQUFBLFNBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBUyxDQUNyQkMsRUFBRSxDQUFFSCxPQUFPLENBRFUsRUFBQSxDQUVyQk4sS0FBSyxDQUFFTSxPQUFPLENBQUNOLEtBRk0sQ0FBVCxDQWxCTSxlQWtCTixDQUFSUSxDQWxCYyx3QkF1QnBCRSxHQUFHLENBQUhBLE1BQUFBLENBQUFBLEdBQUFBLEVBQUFBLElBQUFBLENBQXFCLENBQ25CYixNQUFNLENBRGEsR0FBQSxDQUVuQmMsSUFBSSxDQUFFLENBQ0pILEtBQUssQ0FERCxLQUFBLENBRUpDLEVBQUUsQ0FBRUgsT0FBTyxDQUZQLEVBQUEsQ0FHSkwsU0FBUyxDQUFFSyxPQUFPLENBSGQsU0FBQSxDQUlKSixRQUFRLENBQUVJLE9BQU8sQ0FKYixRQUFBLENBS0pOLEtBQUssQ0FBRU0sT0FBTyxDQUFDTixLQUxYLENBRmEsQ0FBckJVLEVBdkJvQixJQUFBLEdBQUEsNEJBQUEsSUFBQSxLQUFBLG9EQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsSUFBQSxFQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxRQUFBLENBQUEsQ0FBQSxDQUFBLENBQUEsQ0FBQSxFQUFBLENBaUNyQixDQXJFVyxDQUFILENBQVgsQyxzQ0EwRWVqQixLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHBvb2wgZnJvbSAnLi4vY29uZmlnL2RiX2NvbmZpZyc7XG5pbXBvcnQgJ0BiYWJlbC9wb2x5ZmlsbCc7XG5pbXBvcnQgJ0BiYWJlbC9wbHVnaW4tdHJhbnNmb3JtLXJlZ2VuZXJhdG9yJztcblxuXG5jb25zdCBVc2VycyA9IHtcbiAgYXN5bmMgc2lnbnVwKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgZW1haWxFeGlzdCA9IGBTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gJyR7cmVxLmJvZHkuZW1haWx9JztgO1xuXG4gICAgaWYgKGVtYWlsRXhpc3QpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuc2VuZCh7XG4gICAgICAgIHN0YXR1czogNDA5LFxuICAgICAgICBlcnJvcjogJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZXdVc2VyID0ge1xuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgZmlyc3ROYW1lOiByZXEuYm9keS5maXJzdE5hbWUsXG4gICAgICBsYXN0TmFtZTogcmVxLmJvZHkubGFzdE5hbWUsXG4gICAgICBwYXNzd29yZDogYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKSxcbiAgICB9O1xuXG4gICAgY29uc3QgdXNlckluc2VydCA9IGBJTlNFUlQgSU5UTyB1c2VycyAoZW1haWwsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHBhc3N3b3JkKSBWQUxVRVMoJyR7bmV3VXNlci5lbWFpbH0nLCcke25ld1VzZXIuZmlyc3ROYW1lfScsJyR7bmV3VXNlci5sYXN0TmFtZX0nLCcke25ld1VzZXIucGFzc3dvcmR9JykgUkVUVVJOSU5HICo7YDtcbiAgICBjb25zdCB7IHJvd3M6IFt1c2VyR2V0XSB9ID0gYXdhaXQgcG9vbC5xdWVyeSh1c2VySW5zZXJ0KTtcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHtcbiAgICAgIGlkOiB1c2VyR2V0LmlkLFxuICAgICAgZW1haWw6IHVzZXJHZXQuZW1haWwsXG4gICAgfSwgJ2p3dHByaXZhdGVrZXknKTtcblxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcbiAgICAgIHN0YXR1czogMjAxLFxuICAgICAgZGF0YToge1xuICAgICAgICB0b2tlbixcbiAgICAgICAgaWQ6IHVzZXJHZXQuaWQsXG4gICAgICAgIGZpcnN0TmFtZTogdXNlckdldC5maXJzdG5hbWUsXG4gICAgICAgIGxhc3ROYW1lOiB1c2VyR2V0Lmxhc3RuYW1lLFxuICAgICAgICBlbWFpbDogdXNlckdldC5lbWFpbCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0sXG5cbiAgYXN5bmMgbG9naW4ocmVxLCByZXMpIHtcbiAgICBjb25zdCBlbWFpbEV4aXN0ID0gYFNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSAnJHtyZXEuYm9keS5lbWFpbH0nO2A7XG5cbiAgICBpZiAoZW1haWxFeGlzdCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiA0MDksXG4gICAgICAgIGVycm9yOiAnRW1haWwgYWxyZWFkeSBleGlzdHMnLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgICBmaXJzdE5hbWU6IHJlcS5ib2R5LmZpcnN0TmFtZSxcbiAgICAgIGxhc3ROYW1lOiByZXEuYm9keS5sYXN0TmFtZSxcbiAgICAgIHBhc3N3b3JkOiBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgMTApLFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VySW5zZXJ0ID0gYElOU0VSVCBJTlRPIHVzZXJzIChlbWFpbCwgZmlyc3ROYW1lLCBsYXN0TmFtZSwgcGFzc3dvcmQpIFZBTFVFUygnJHtuZXdVc2VyLmVtYWlsfScsJyR7bmV3VXNlci5maXJzdE5hbWV9JywnJHtuZXdVc2VyLmxhc3ROYW1lfScsJyR7bmV3VXNlci5wYXNzd29yZH0nKSBSRVRVUk5JTkcgKjtgO1xuICAgIGNvbnN0IHsgcm93czogW3VzZXJHZXRdIH0gPSBhd2FpdCBwb29sLnF1ZXJ5KHVzZXJJbnNlcnQpO1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe1xuICAgICAgaWQ6IHVzZXJHZXQuaWQsXG4gICAgICBlbWFpbDogdXNlckdldC5lbWFpbCxcbiAgICB9LCAnand0cHJpdmF0ZWtleScpO1xuXG4gICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xuICAgICAgc3RhdHVzOiAyMDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHRva2VuLFxuICAgICAgICBpZDogdXNlckdldC5pZCxcbiAgICAgICAgZmlyc3ROYW1lOiB1c2VyR2V0LmZpcnN0bmFtZSxcbiAgICAgICAgbGFzdE5hbWU6IHVzZXJHZXQubGFzdG5hbWUsXG4gICAgICAgIGVtYWlsOiB1c2VyR2V0LmVtYWlsLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcblxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBVc2VycztcbiJdLCJzb3VyY2VSb290IjoiL2hvbWUvYWduZXMvRG9jdW1lbnRzL0JhbmtfUGFwZWwvc2VydmVyL2NvbnRyb2xsZXJzIn0=